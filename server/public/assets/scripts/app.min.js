/*! postgres_lecture_setup 2015-08-11 */
function getData(){$.ajax({type:"GET",url:"/api/todos",success:function(a){taskData=a,appendTasks()}})}function appendTasks(){$("#someContainer").empty();for(var a=0;a<taskData.length;a++){$("#someContainer").append("<div class='task well col-md-3'></div>");var b=$("#someContainer").children().last();b.data("id",taskData[a].id),b.data("complete",taskData[a].complete),taskData[a].complete&&b.css("text-decoration","line-through"),b.append("<p class='lead'>"+taskData[a].text+"</p>"),b.append("<button class='btn btn-danger delete'>X</button>")}}var taskData;$(document).ready(function(){$("#taskForm").submit(function(a){a.preventDefault();var b=$("#taskForm").serialize();b+="&complete=false",$.ajax({type:"POST",data:b,url:"/api/todos",success:function(a){taskData=a,appendTasks()}})}),$("#someContainer").on("click",".task p",function(){var a;a=!$(this).parent().data("complete");var b=$(this).text().replace(" ","+"),c="text="+b+"&complete="+a;$.ajax({type:"PUT",data:c,url:"/api/todos/"+$(this).parent().data("id"),success:function(a){taskData=a,appendTasks()}})}),$("#someContainer").on("click",".delete",function(){var a=$(this).parent().data("id");$.ajax({type:"DELETE",url:"/api/todos/"+a,success:function(a){taskData=a,appendTasks()}})}),$(".get").on("click",function(){getData()}),getData()});